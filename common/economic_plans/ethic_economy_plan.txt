# Base AI economic plans

@rare_resource_target = 10
@rare_resource_limit = 100
@energy_target = 150
@minerals_target = 300
@unity_target = 150
@alloy_target = 250
@fleet_cap_alloy_target = 500
@machine_empire_alloy_target = 250
@pops_target = 9999
@food_target = 30
@food_target_extra = 75
@consumer_goods_target = 40
@research_target = 500
@scaling_research_target = 150
@scaling_consumer_goods_target = 5
@scaling_rare_resource_target = 1

basic_economy_plan = {
	income = {
		administrative_capacity_calculation = 1
	}

	subplan = {
		set_name = "base energy and minerals"
		potential = {
			always = yes
		}

		income = {
			energy = @energy_target
			minerals = @minerals_target
		}
	}

	subplan = {
		set_name = "medium term energy and minerals"
		potential = {
			mid_game_years_passed = yes
		}

		income = {
			energy = 300
			minerals = 600
		}
	}

	subplan = {
		set_name = "end term energy and minerals"
		potential = {
			end_game_years_passed = yes
		}

		income = {
			energy = 750
			minerals = 1500
		}
	}

	subplan = {
		set_name = "base food"
		potential = {
			country_uses_food = yes
		}

		income = {
			food = @food_target
		}
	}

	subplan = {
		set_name = "medium term food"
		potential = {
			mid_game_years_passed = yes
			country_uses_food = yes
		}

		income = {
			food = 60
		}
	}

	subplan = {
		set_name = "end term food"
		potential = {
			end_game_years_passed = yes
			country_uses_food = yes
		}

		income = {
			food = 150
		}
	}

	subplan = {
		set_name = "base science organics"
		potential = {
			country_uses_consumer_goods = yes
			has_monthly_income = { resource = consumer_goods value > @consumer_goods_target }
		}
		income = {
			physics_research = @research_target
			society_research = @research_target
			engineering_research = @research_target
		}
	}

	subplan = {
		set_name = "medium term science organics"
		potential = {
			mid_game_years_passed = yes
			country_uses_consumer_goods = yes
			has_monthly_income = { resource = consumer_goods value > 100 }
		}
		income = {
			physics_research = 1000
			society_research = 1000
			engineering_research = 1000
		}
	}

	subplan = {
		set_name = "end term science organics"
		potential = {
			end_game_years_passed = yes
			country_uses_consumer_goods = yes
			has_monthly_income = { resource = consumer_goods value > 250 }
		}
		income = {
			physics_research = 2500
			society_research = 2500
			engineering_research = 2500
		}
	}


	subplan = {
		set_name = "base science hivemind"
		potential = {
			is_hive_empire = yes
			has_monthly_income = { resource = minerals value > @minerals_target }
		}
		income = {
			physics_research = @research_target
			society_research = @research_target
			engineering_research = @research_target
		}
	}


	subplan = {
		set_name = "medium term science hivemind"
		potential = {
			mid_game_years_passed = yes
			is_hive_empire = yes
			has_monthly_income = { resource = minerals value > 600 }
		}
		income = {
			physics_research = 1000
			society_research = 1000
			engineering_research = 1000
		}
	}


	subplan = {
		set_name = "end term science hivemind"
		potential = {
			end_game_years_passed = yes
			is_hive_empire = yes
			has_monthly_income = { resource = minerals value > 1500 }
		}
		income = {
			physics_research = 2500
			society_research = 2500
			engineering_research = 2500
		}
	}

	subplan = {
		set_name = "base science machine empire"
		potential = {
			is_machine_empire = yes
			has_monthly_income = { resource = energy value > @energy_target }
		}
		income = {
			physics_research = @research_target
			society_research = @research_target
			engineering_research = @research_target
		}
	}


	subplan = {
		set_name = "medium term science machine empire"
		potential = {
			mid_game_years_passed = yes
			is_machine_empire = yes
			has_monthly_income = { resource = energy value > 400 }
		}
		income = {
			physics_research = 1000
			society_research = 1000
			engineering_research = 1000
		}
	}


	subplan = {
		set_name = "end term science machine empire"
		potential = {
			end_game_years_passed = yes
			is_machine_empire = yes
			has_monthly_income = { resource = energy value > 1000 }
		}
		income = {
			physics_research = 2500
			society_research = 2500
			engineering_research = 2500
		}
	}

	subplan = {
		set_name = "base unity machine empire"
		potential = {
			is_machine_empire = yes
		}

		income = {
			unity = @unity_target
		}
	}

	subplan = {
		set_name = "medium term unity machine empire"
		potential = {
			mid_game_years_passed = yes
			is_machine_empire = yes
		}

		income = {
			unity = 1000
		}
	}

	subplan = {
		set_name = "end term unity machine empire"
		potential = {
			end_game_years_passed = yes
			is_machine_empire = yes
		}

		income = {
			unity = 2500
		}
	}

	subplan = {
		set_name = "extended food"
		potential = {
			has_monthly_income = { resource = physics_research value > @research_target }
			has_monthly_income = { resource = society_research value > @research_target }
			has_monthly_income = { resource = engineering_research value > @research_target }
			country_uses_food = yes
		}

		income = {
			food = @food_target_extra
		}
	}

	subplan = {
		set_name = "medium term extended food"
		potential = {
			mid_game_years_passed = yes
			has_monthly_income = { resource = physics_research value > 1000 }
			has_monthly_income = { resource = society_research value > 1000 }
			has_monthly_income = { resource = engineering_research value > 1000 }
			country_uses_food = yes
		}

		income = {
			food = 150
		}
	}

	subplan = {
		set_name = "end term extended food"
		potential = {
			end_game_years_passed = yes
			has_monthly_income = { resource = physics_research value > 2500 }
			has_monthly_income = { resource = society_research value > 2500 }
			has_monthly_income = { resource = engineering_research value > 2500 }
			country_uses_food = yes
		}

		income = {
			food = 400
		}
	}

	subplan = {
		set_name = "base consumer goods"
		potential = {
			country_uses_consumer_goods = yes
			has_monthly_income = { resource = minerals value > @minerals_target }
			has_monthly_income = { resource = energy value > @energy_target }
			if = {
				limit = {
					country_uses_food = yes
				}
				has_monthly_income = { resource = food value > @food_target }
			}
		}
		income = {
			consumer_goods = @consumer_goods_target
		}
	}

	subplan = {
		set_name = "medium term consumer goods"
		potential = {
			mid_game_years_passed = yes
			country_uses_consumer_goods = yes
			has_monthly_income = { resource = minerals value > 600 }
			has_monthly_income = { resource = energy value > 400 }
			if = {
				limit = {
					country_uses_food = yes
				}
				has_monthly_income = { resource = food value > 75 }
			}
		}
		income = {
			consumer_goods = 100
		}
	}

	subplan = {
		set_name = "end term consumer goods"
		potential = {
			end_game_years_passed = yes
			country_uses_consumer_goods = yes
			has_monthly_income = { resource = minerals value > 1500 }
			has_monthly_income = { resource = energy value > 1000 }
			if = {
				limit = {
					country_uses_food = yes
				}
				has_monthly_income = { resource = food value > 150 }
			}
		}
		income = {
			consumer_goods = 300
		}
	}


	subplan = {
		set_name = "machine empire base alloys"
		potential = {
			is_machine_empire = yes
		}

		income = {
			alloys = @machine_empire_alloy_target
		}
	}

	subplan = {
		set_name = "machine empire medium term alloys"
		potential = {
			mid_game_years_passed = yes
			is_machine_empire = yes
		}

		income = {
			alloys = 600
		}
	}

	subplan = {
		set_name = "end empire medium term alloys"
		potential = {
			end_game_years_passed = yes
			is_machine_empire = yes
		}

		income = {
			alloys = 1500
		}
	}

	subplan = {
		set_name = "base pops"
		potential = {
			has_monthly_income = { resource = energy value > @energy_target }
			has_monthly_income = { resource = minerals value > @minerals_target }
			has_monthly_income = { resource = physics_research value > @research_target }
			has_monthly_income = { resource = society_research value > @research_target }
			has_monthly_income = { resource = engineering_research value > @research_target }
		}
		pops = @pops_target
	}

	subplan = {
		set_name = "clone origin pops"
		potential = {
			has_origin = origin_clone_army
			NOT = {
				has_country_flag = clone_army_fertility_unlocked
			}
			num_buildings = { type = building_clone_army_clone_vat value < 5 }
		}
		pops = @pops_target
	}

	#### SCALING SUBPLANS HERE ####
	# Values in the scaling subplans are added to the base plan each time the AI reaches the target
	# If base alloys = 10 and the AI reaches +12 per month, and it says alloys = 20 in the scaling subplan, the next target becomes alloys = 30
	# All scaling subplans are cumulative

	subplan = {
		scaling = yes
		set_name = "general scaling"
		potential = {
			has_monthly_income = { resource = energy value > @energy_target }
			has_monthly_income = { resource = minerals value > @minerals_target }
		}

		income = {
			alloys = 25
			minerals = 25
			energy = 25
			physics_research = @scaling_research_target
			society_research = @scaling_research_target
			engineering_research = @scaling_research_target
			unity = @unity_target
		}
	}

	subplan = {
		scaling = yes
		set_name = "33year general scaling"
		potential = {
			years_passed >= 33
			has_monthly_income = { resource = energy value > @energy_target }
			has_monthly_income = { resource = minerals value > @minerals_target }
		}

		income = {
			alloys = 25
			minerals = 25
			energy = 25
			physics_research = @scaling_research_target
			society_research = @scaling_research_target
			engineering_research = @scaling_research_target
		}
	}

	subplan = {
		scaling = yes
		set_name = "66year general scaling"
		potential = {
			years_passed >= 66
			has_monthly_income = { resource = energy value > @energy_target }
			has_monthly_income = { resource = minerals value > @minerals_target }
		}

		income = {
			alloys = 50
			minerals = 50
			energy = 50
			physics_research = @scaling_research_target
			society_research = @scaling_research_target
			engineering_research = @scaling_research_target
		}
	}

	subplan = {
		scaling = yes
		set_name = "99year general scaling"
		potential = {
			years_passed >= 99
			has_monthly_income = { resource = energy value > @energy_target }
			has_monthly_income = { resource = minerals value > @minerals_target }
		}

		income = {
			alloys = 100
			minerals = 100
			energy = 100
			physics_research = @scaling_research_target
			society_research = @scaling_research_target
			engineering_research = @scaling_research_target
		}
	}

	subplan = {
		scaling = yes
		set_name = "naval cap scaling"
		potential = {
			num_repeatable_techs > 0 #make sure it isn't messing up the earlier development (this is for the late game)
			has_monthly_income = { resource = energy value > @energy_target }
			has_monthly_income = { resource = minerals value > @minerals_target }
			has_monthly_income = { resource = alloys value > @fleet_cap_alloy_target }
			used_naval_capacity_percent > 0.95
			used_starbase_capacity_percent >= 1
		}

		naval_cap = 50
	}

	subplan = {
		scaling = yes
		set_name = "general CG scaling"
		potential = {
			country_uses_consumer_goods = yes
			has_monthly_income = { resource = energy value > @energy_target }
			has_monthly_income = { resource = minerals value > @minerals_target }
		}
		income = {
			consumer_goods = @scaling_consumer_goods_target
		}
	}

	#### MILITARIST EXTRA ALLOYS ####
	subplan = {
		scaling = yes
		set_name = "Militarist alloys"
		potential = {
			OR = {
				is_militarist = yes
				is_homicidal = yes
			}

			has_monthly_income = { resource = energy value > @energy_target }
			has_monthly_income = { resource = minerals value > @minerals_target }
		}

		income = {
			alloys = 50
		}
	}

	#### MATERIALIST SCIENCE ####
	subplan = {
		scaling = yes
		set_name = "Materialist science"
		potential = {
			is_materialist = yes
			has_monthly_income = { resource = energy value > @energy_target }
			has_monthly_income = { resource = minerals value > @minerals_target }
		}

		income = {
			physics_research = 200
			society_research = 200
			engineering_research = 200
		}
	}

	#### SPIRITUALIST UNITY ####
	subplan = {
		scaling = yes
		set_name = "Spiritualist unity"
		potential = {
			is_spiritualist = yes
			has_monthly_income = { resource = energy value > @energy_target }
			has_monthly_income = { resource = minerals value > @minerals_target }
		}

		income = {
			unity = 300
		}
	}

	# Optional subplans don't need to be fulfilled for the other scaling subplans to become active
	subplan = {
		optional = yes
		set_name = "Rare resources"
		potential = {
			always = yes
		}

		income = {
			exotic_gases = @rare_resource_target
			volatile_motes = @rare_resource_target
			rare_crystals = @rare_resource_target
		}
	}


	subplan = {
		optional = yes
		scaling = yes
		set_name = "Scaling exotic gases"

		potential = {
			has_monthly_income = { resource = exotic_gases value < @rare_resource_limit }
		}

		income = {
			exotic_gases = @scaling_rare_resource_target
		}
	}
	subplan = {
		optional = yes
		scaling = yes
		set_name = "Scaling volatile motes"

		potential = {
			has_monthly_income = { resource = volatile_motes value < @rare_resource_limit }
		}

		income = {
			volatile_motes = @scaling_rare_resource_target
		}
	}
	subplan = {
		optional = yes
		scaling = yes
		set_name = "Scaling rare crystals"

		potential = {
			has_monthly_income = { resource = rare_crystals value < @rare_resource_limit }
		}

		income = {
			rare_crystals = @scaling_rare_resource_target
		}
	}

	ai_weight = {
		weight = 1
	}
}

administrative_capacity_calculation_plan = {
	income = {
		administrative_capacity_calculation = 1
	}

	ai_weight = {
		weight = 9999
	}
}
