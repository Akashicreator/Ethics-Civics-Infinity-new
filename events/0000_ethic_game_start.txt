namespace = game_start

country_event = {
    id = game_start.60
    hide_window = yes
    trigger = {
        is_default_empire = yes
        #selectable = { host_has_dlc = "Galactic Paragons" }
    }

    is_triggered_only = yes

    immediate = {
        set_variable = {
            which = paragon_chance_negative
            value = 0
        }

        if = {
            limit = { is_direct_democratic = yes }
            force_add_civic = civic_debug
            force_remove_civic = civic_debug
            random_owned_leader = {
                limit = {
                    leader_class = governor
                    is_ruler = no
                }
                set_council_position = councilor_direct_democratic_governor
            }
            create_leader = {
                class = scientist
                sub_type = survey
                name = random
                species = owner_main_species
                effect = { set_council_position = councilor_direct_democratic_scientist }
            }
            create_leader = {
                class = general
                sub_type = survey
                name = random
                species = owner_main_species
                effect = { set_council_position = councilor_direct_democratic_general }
            }
            create_leader = {
                class = governor
                sub_type = survey
                name = random
                species = owner_main_species
                effect = { set_council_position = councilor_direct_democratic_culture }
            }
            random_owned_leader = {
                limit = {
                    leader_class = admiral
                    is_ruler = no
                }
                set_council_position = councilor_direct_democratic_admiral
            }
            set_council_agenda = agenda_infinite_opportunities
        }
        else_if = {
            limit = { has_valid_civic = civic_network_of_the_mind }
            force_add_civic = civic_debug
            force_remove_civic = civic_debug
            if = {
                limit = {
                    has_paragon_dlc = yes
                }
                ruler = {
                    assign_gestalt_ruler_subclass_trait = yes
                }
            }
            country_create_gestalt_councilor = {
                CLASS = official
                COUNCIL_POS = councilor_gestalt_growth
                DESC = councilor_gestalt_growth_desc
            }
            country_create_gestalt_councilor = {
                CLASS = scientist
                COUNCIL_POS = councilor_gestalt_cognitive
                DESC = councilor_gestalt_cognitive_desc
            }
            country_create_gestalt_councilor = {
                CLASS = commander
                COUNCIL_POS = councilor_gestalt_legion
                DESC = councilor_gestalt_legion_desc
            }
            country_create_gestalt_councilor = {
                CLASS = official
                COUNCIL_POS = councilor_gestalt_regulatory
                DESC = councilor_gestalt_regulatory_desc
            }
            set_council_agenda = agenda_infinite_opportunities_gestalt
        }
        else_if = {
            limit = {
                has_authority = auth_direct_democratic
                NOT = { has_origin =  origin_galaxy_iron_curtain }
            }
            set_council_agenda = agenda_infinite_opportunities
        }
        else_if = {
            limit = { has_origin =  origin_galaxy_iron_curtain }
            force_add_civic = civic_debug
            force_remove_civic = civic_debug
            random_owned_leader = {
                limit = {
                    leader_class = governor
                    is_ruler = no
                }
                set_council_position = councilor_prime_oligarch_1
            }
            create_leader = {
                class = scientist
                sub_type = survey
                name = random
                species = owner_main_species
                effect = { set_council_position = councilor_prime_oligarch_2 }
            }
            if = {
                limit = {
                    NOT = { has_valid_civic =  civic_constitutional_monarchy }
                }
                create_leader = {
                    class = governor
                    sub_type = survey
                    name = random
                    species = owner_main_species
                    effect = { set_council_position = councilor_prime_oligarch_3 }
                }
            }
            if = {
                limit = {
                    has_valid_civic =  civic_constitutional_monarchy
                }
                create_leader = {
                    class = governor
                    sub_type = survey
                    name = random
                    species = owner_main_species
                    effect = {
                        change_background_job = royalty
                        add_trait_no_notify = leader_trait_eci_king
                        set_council_position = councilor_king
                    }
                }
                random_owned_leader = {
                    limit = {
                        is_ruler = no
                        NOT = { is_councilor_type = councilor_king }
                    }
                    change_background_job = royalty
                    add_trait_no_notify = leader_trait_eci_heir
                }
            }
            if = {
                limit = {
                    NOT = { has_valid_civic =  civic_constitutional_monarchy }
                }
                create_leader = {
                    class = general
                    sub_type = survey
                    name = random
                    species = owner_main_species
                    effect = { set_council_position = councilor_prime_oligarch_4 }
                }
            }
            if = {
                limit = {
                    has_valid_civic =  civic_parliamentary_system
                }
                create_leader = {
                    class = governor
                    sub_type = survey
                    name = random
                    species = owner_main_species
                    effect = {
                        set_council_position = councilor_parliamentary_system
                    }
                }
            }
            random_owned_leader = {
                limit = {
                    leader_class = admiral
                    is_ruler = no
                }
                set_council_position = councilor_prime_oligarch_5
            }
        }
        if = {
            limit = {
                NOT = { has_origin =  origin_galaxy_iron_curtain }
                has_valid_civic =  civic_constitutional_monarchy
            }
            force_add_civic = civic_debug
            force_remove_civic = civic_debug
            generate_royal_family = yes
            if = {
                limit = {
                    ruler = {
                        has_trait = leader_trait_eci_royalty
                    }
                }
                ruler = {
                    remove_trait = leader_trait_eci_royalty
                }
            }
        }
        if = {
            limit = {
                NOT = { has_origin =  origin_galaxy_iron_curtain }
                has_valid_civic =  civic_parliamentary_system
            }
            force_add_civic = civic_debug
            force_remove_civic = civic_debug
            create_leader = {
                class = governor
                sub_type = survey
                name = random
                species = owner_main_species
                effect = {
                    set_council_position = councilor_parliamentary_system
                }
            }
        }
        add_council_agenda_progress = 6000
    }
}

# Change Ethic of first Ruler to empire's fanatic ethic.
# More likely they would've been elected, and easier to re-elect them.
country_event = {
    id = game_start.63
    hide_window = yes
    trigger = {
        is_country_type = default
        is_gestalt = no
    }

    is_triggered_only = yes

    immediate = {
        switch = {
            trigger = has_ethic
            ethic_fanatic_pacifist = {
                ruler = { change_background_ethic = ethic_pacifist }
            }
            ethic_fanatic_militarist = {
                ruler = { change_background_ethic = ethic_militarist }
            }
            ethic_fanatic_xenophile = {
                ruler = { change_background_ethic = ethic_xenophile }
            }
            ethic_fanatic_xenophobe = {
                ruler = { change_background_ethic = ethic_xenophobe }
            }
            ethic_fanatic_egalitarian = {
                ruler = { change_background_ethic = ethic_egalitarian }
            }
            ethic_fanatic_authoritarian = {
                ruler = { change_background_ethic = ethic_authoritarian }
            }
            ethic_fanatic_spiritualist = {
                ruler = { change_background_ethic = ethic_spiritualist }
            }
            ethic_fanatic_materialist = {
                ruler = { change_background_ethic = ethic_materialist }
            }
            ethic_fanatic_socialism = {
                ruler = { change_background_ethic = ethic_socialism }
            }
            ethic_fanatic_capitalism = {
                ruler = { change_background_ethic = ethic_capitalism }
            }
        }
    }
}